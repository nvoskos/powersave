<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Municipality Command Center - PowerSave</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .card { background: white; border-radius: 16px; padding: 24px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05); border: 1px solid #e2e8f0; }
        .sidebar-link { display: flex; align-items: center; gap: 12px; padding: 12px 16px; border-radius: 8px; color: #64748b; transition: all 0.2s; cursor: pointer; font-weight: 500; }
        .sidebar-link:hover { background-color: #f1f5f9; color: #0f172a; }
        .sidebar-link.active { background-color: #eff6ff; color: #2563eb; }
    </style>
</head>
<body class="flex h-screen overflow-hidden">

    <!-- SIDEBAR -->
    <div class="w-72 bg-white border-r border-gray-200 flex flex-col flex-shrink-0">
        <div class="p-6 border-b border-gray-100">
            <div class="flex items-center gap-2 font-black text-xl text-gray-900">
                <div class="bg-blue-600 text-white p-1.5 rounded"><i data-lucide="building-2" class="w-5 h-5"></i></div>
                Δήμος Λευκωσίας
            </div>
            <div class="text-xs text-gray-400 mt-1 uppercase tracking-widest font-bold">POWERSAVE PORTAL</div>
        </div>
        
        <div class="flex-1 overflow-y-auto p-4 space-y-1">
            <div class="sidebar-link active"><i data-lucide="layout-grid" class="w-5 h-5"></i> Επισκόπηση (Overview)</div>
            <div class="sidebar-link"><i data-lucide="wallet" class="w-5 h-5"></i> Τέλη & Εισπράξεις</div>
            <div class="sidebar-link"><i data-lucide="heart-handshake" class="w-5 h-5"></i> Κοινωνική Πολιτική</div>
            <div class="sidebar-link"><i data-lucide="leaf" class="w-5 h-5"></i> SECAP / CO2 Report</div>
            <div class="sidebar-link"><i data-lucide="users" class="w-5 h-5"></i> Γειτονιές & Groups</div>
        </div>

        <div class="p-4 border-t border-gray-100 bg-gray-50">
            <div class="flex items-center gap-3">
                <img src="https://ui-avatars.com/api/?name=Mayor&background=0D8ABC&color=fff" class="w-10 h-10 rounded-full">
                <div>
                    <div class="text-sm font-bold text-gray-900">Γραφείο Δημάρχου</div>
                    <div class="text-xs text-green-600 font-bold">● Online</div>
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div class="flex-1 overflow-y-auto">
        <!-- TOP BAR -->
        <header class="bg-white border-b border-gray-200 p-6 flex justify-between items-center sticky top-0 z-20">
            <div>
                <h1 class="text-2xl font-bold text-gray-900">Κέντρο Ελέγχου Πόλης</h1>
                <p class="text-sm text-gray-500">Παρακολούθηση Ενεργειακής & Οικονομικής Απόδοσης</p>
            </div>
            <div class="flex gap-3">
                <button class="px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-bold text-gray-700 flex items-center gap-2 hover:bg-gray-50">
                    <i data-lucide="calendar"></i> Δεκέμβριος 2025
                </button>
                <button class="px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-bold flex items-center gap-2 hover:bg-blue-700 shadow-lg shadow-blue-200">
                    <i data-lucide="download"></i> Εξαγωγή Αναφοράς ΕΣΕΚ
                </button>
            </div>
        </header>

        <main class="p-8 max-w-7xl mx-auto space-y-8">
            
            <!-- KPI CARDS -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <!-- Card 1: Waste Fee Recovery -->
                <div class="card border-l-4 border-blue-500 relative overflow-hidden group">
                    <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:scale-110 transition duration-500">
                        <i data-lucide="coins" class="w-24 h-24 text-blue-600"></i>
                    </div>
                    <div class="text-xs font-bold text-gray-400 uppercase tracking-wider">ΕΙΣΠΡΑΞΗ ΤΕΛΩΝ ΣΚΥΒΑΛΩΝ</div>
                    <div class="text-3xl font-black text-gray-900 mt-2">€ 148,250</div>
                    <div class="mt-4 flex items-center gap-2 text-sm">
                        <span class="bg-green-100 text-green-700 px-2 py-1 rounded-md font-bold text-xs">+12%</span>
                        <span class="text-gray-500">από πέρυσι</span>
                    </div>
                </div>

                <!-- Card 2: Social Impact -->
                <div class="card border-l-4 border-orange-500 relative overflow-hidden group">
                    <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:scale-110 transition duration-500">
                        <i data-lucide="heart" class="w-24 h-24 text-orange-600"></i>
                    </div>
                    <div class="text-xs font-bold text-gray-400 uppercase tracking-wider">ΤΑΜΕΙΟ ΑΛΛΗΛΕΓΓΥΗΣ</div>
                    <div class="text-3xl font-black text-gray-900 mt-2">€ 42,100</div>
                    <div class="mt-4 flex items-center gap-2 text-sm">
                        <span class="text-gray-600">Βοηθήθηκαν <strong class="text-gray-900">350</strong> ευάλωτα νοικοκυριά</span>
                    </div>
                </div>

                <!-- Card 3: CO2 Saved -->
                <div class="card border-l-4 border-green-500 relative overflow-hidden group">
                    <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:scale-110 transition duration-500">
                        <i data-lucide="trees" class="w-24 h-24 text-green-600"></i>
                    </div>
                    <div class="text-xs font-bold text-gray-400 uppercase tracking-wider">ΜΕΙΩΣΗ CO2 (SECAP)</div>
                    <div class="text-3xl font-black text-gray-900 mt-2">845 τόννοι</div>
                    <div class="mt-4 flex items-center gap-2 text-sm">
                        <span class="bg-green-100 text-green-700 px-2 py-1 rounded-md font-bold text-xs">Target Hit</span>
                        <span class="text-gray-500">Ισοδύναμο με 5k δέντρα</span>
                    </div>
                </div>

                <!-- Card 4: Engagement -->
                <div class="card border-l-4 border-purple-500 relative overflow-hidden group">
                    <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:scale-110 transition duration-500">
                        <i data-lucide="users" class="w-24 h-24 text-purple-600"></i>
                    </div>
                    <div class="text-xs font-bold text-gray-400 uppercase tracking-wider">ΕΝΕΡΓΟΙ ΔΗΜΟΤΕΣ</div>
                    <div class="text-3xl font-black text-gray-900 mt-2">12,450</div>
                    <div class="mt-4 flex items-center gap-2 text-sm">
                        <span class="text-purple-600 font-bold">28%</span>
                        <span class="text-gray-500">του πληθυσμού</span>
                    </div>
                </div>
            </div>

            <!-- CHARTS SECTION -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Main Chart -->
                <div class="card lg:col-span-2">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-bold text-lg text-gray-800">Εισπραξιμότητα Τελών μέσω PowerSave</h3>
                        <select class="bg-gray-50 border-none text-sm font-bold text-gray-600 rounded-lg p-2 cursor-pointer outline-none">
                            <option>Τελευταίο 6μηνο</option>
                            <option>Τελευταίο έτος</option>
                        </select>
                    </div>
                    <canvas id="revenueChart" height="150"></canvas>
                </div>

                <!-- Leaderboard -->
                <div class="card bg-gray-900 text-white">
                    <h3 class="font-bold text-lg mb-6 flex items-center gap-2">
                        <i data-lucide="trophy" class="text-yellow-400 w-5 h-5"></i> Top Γειτονιές
                    </h3>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-3 bg-gray-800 rounded-xl border border-gray-700">
                            <div class="flex items-center gap-3">
                                <span class="font-bold text-yellow-400 text-lg">#1</span>
                                <div>
                                    <div class="font-bold">Ακρόπολη</div>
                                    <div class="text-xs text-gray-400">Ομάδα Γονέων Α' Δημοτικού</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-green-400">€4,250</div>
                                <div class="text-[10px] text-gray-500">ΕΞΟΙΚΟΝΟΜΗΣΗ</div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-gray-800/50 rounded-xl border border-gray-700/50">
                            <div class="flex items-center gap-3">
                                <span class="font-bold text-gray-400 text-lg">#2</span>
                                <div>
                                    <div class="font-bold">Πλατύ</div>
                                    <div class="text-xs text-gray-400">Πάρκο Γειτονιάς</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-green-400">€3,890</div>
                                <div class="text-[10px] text-gray-500">ΕΞΟΙΚΟΝΟΜΗΣΗ</div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-3 bg-gray-800/50 rounded-xl border border-gray-700/50">
                            <div class="flex items-center gap-3">
                                <span class="font-bold text-orange-400 text-lg">#3</span>
                                <div>
                                    <div class="font-bold">Καϊμακλί</div>
                                    <div class="text-xs text-gray-400">Κέντρο Νεότητας</div>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-green-400">€2,100</div>
                                <div class="text-[10px] text-gray-500">ΕΞΟΙΚΟΝΟΜΗΣΗ</div>
                            </div>
                        </div>
                    </div>
                    
                    <button class="w-full mt-6 py-3 bg-blue-600 rounded-xl text-sm font-bold hover:bg-blue-700 transition">
                        Δημιουργία Νέου Διαγωνισμού
                    </button>
                </div>
            </div>

            <!-- RECENT CLEARING LOGS -->
            <div class="card">
                <h3 class="font-bold text-lg text-gray-800 mb-4">Τελευταίες Εκκαθαρίσεις (Clearing House)</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-left text-sm text-gray-600">
                        <thead class="bg-gray-50 text-gray-500 uppercase text-xs">
                            <tr>
                                <th class="p-4 rounded-l-lg">ID Συναλλαγής</th>
                                <th class="p-4">Πάροχος</th>
                                <th class="p-4">Περιγραφή</th>
                                <th class="p-4">Ημερομηνία</th>
                                <th class="p-4">Ποσό</th>
                                <th class="p-4 rounded-r-lg">Κατάσταση</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr class="hover:bg-gray-50 transition">
                                <td class="p-4 font-mono text-xs">TX-99812</td>
                                <td class="p-4 flex items-center gap-2"><div class="w-2 h-2 rounded-full bg-blue-600"></div> CypEnergy</td>
                                <td class="p-4">Μαζική Μεταφορά Τελών (Οικιακά)</td>
                                <td class="p-4">07 Δεκ 2025</td>
                                <td class="p-4 font-bold text-gray-900">€ 12,450.00</td>
                                <td class="p-4"><span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-xs font-bold">ΟΛΟΚΛΗΡΩΘΗΚΕ</span></td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition">
                                <td class="p-4 font-mono text-xs">TX-99813</td>
                                <td class="p-4 flex items-center gap-2"><div class="w-2 h-2 rounded-full bg-green-500"></div> Startup Energy</td>
                                <td class="p-4">Εισφορά Κοινωνικού Ταμείου</td>
                                <td class="p-4">06 Δεκ 2025</td>
                                <td class="p-4 font-bold text-gray-900">€ 3,120.00</td>
                                <td class="p-4"><span class="bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-xs font-bold">ΣΕ ΕΞΕΛΙΞΗ</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </main>
    </div>

    <script>
        lucide.createIcons();

        // Chart Configuration
        const ctx = document.getElementById('revenueChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Ιούλ', 'Αύγ', 'Σεπ', 'Οκτ', 'Νοέ', 'Δεκ'],
                datasets: [{
                    label: 'Εισπράξεις μέσω PowerSave (€)',
                    data: [12000, 15000, 18000, 22000, 25000, 28000],
                    backgroundColor: '#3b82f6',
                    borderRadius: 6,
                }, {
                    label: 'Συμβατικές Εισπράξεις (€)',
                    data: [30000, 28000, 26000, 25000, 24000, 22000],
                    backgroundColor: '#cbd5e1',
                    borderRadius: 6,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' }
                },
                scales: {
                    y: { beginAtZero: true, grid: { color: '#f1f5f9' } },
                    x: { grid: { display: false } }
                }
            }
        });
    </script>
</body>
</html>